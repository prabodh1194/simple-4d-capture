# Pre-commit Setup Guide

This project uses pre-commit hooks to ensure code quality and consistency.

## Installation

### Prerequisites
- Python 3.6 or later
- Homebrew (for macOS dependencies)

### Install pre-commit
```bash
pip install pre-commit
# or with homebrew
brew install pre-commit
```

### Install SwiftFormat
```bash
brew install swiftformat
```

### Setup hooks
```bash
# Install the git hook scripts
pre-commit install

# (Optional) Run against all files
pre-commit run --all-files
```

## What the hooks do

1. **Basic file checks**: Remove trailing whitespace, ensure files end with newlines
2. **Format checks**: Validate JSON and YAML files
3. **Swift formatting**: Auto-format Swift code using SwiftFormat
4. **Build validation**: Ensure the project builds successfully
5. **Conflict detection**: Check for merge conflicts and case conflicts

## Running manually

```bash
# Run all hooks on staged files
pre-commit run

# Run all hooks on all files
pre-commit run --all-files

# Run a specific hook
pre-commit run swiftformat
```

## Skipping hooks (use sparingly)

```bash
# Skip hooks for a single commit
git commit -m "message" --no-verify

# Skip specific hook
SKIP=swiftformat git commit -m "message"
```

## Configuration

- `.pre-commit-config.yaml`: Main pre-commit configuration
- `.swiftformat`: SwiftFormat configuration with project-specific rules
